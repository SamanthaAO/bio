{"ast":null,"code":"import _classCallCheck from \"/Users/samorcutt/Desktop/bio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/samorcutt/Desktop/bio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/samorcutt/Desktop/bio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/samorcutt/Desktop/bio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _get from \"/Users/samorcutt/Desktop/bio/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/samorcutt/Desktop/bio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport Foundation from \"@microsoft/fast-components-foundation-react\";\nimport { classNames, keyCodeArrowDown, keyCodeArrowLeft, keyCodeArrowRight, keyCodeArrowUp, keyCodeEnter, keyCodeEscape, keyCodeSpace } from \"@microsoft/fast-web-utilities\";\nimport { canUseDOM } from \"exenv-es6\";\nimport { get, isEqual, isNil, uniqueId } from \"lodash-es\";\nimport React from \"react\";\nimport Listbox from \"../listbox\";\nimport { DisplayNamePrefix } from \"../utilities\";\nimport ViewportPositioner from \"../viewport-positioner\";\n\nvar Select =\n/*#__PURE__*/\nfunction (_Foundation) {\n  _inherits(Select, _Foundation);\n\n  /**\n   * constructor\n   */\n  function Select(props) {\n    var _this;\n\n    _classCallCheck(this, Select);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Select).call(this, props));\n    /**\n     * Handled props instantiation\n     */\n\n    _this.handledProps = {\n      isMenuOpen: void 0,\n      disabled: void 0,\n      displayStringFormatter: void 0,\n      form: void 0,\n      labelledBy: void 0,\n      multiselectable: void 0,\n      trigger: void 0,\n      menu: void 0,\n      required: void 0,\n      managedClasses: void 0,\n      selectedItems: void 0,\n      defaultSelection: void 0,\n      onValueChange: void 0,\n      placeholder: void 0,\n      autoFocus: void 0,\n      menuFlyoutConfig: void 0,\n      onMenuSelectionChange: void 0\n    };\n    _this.rootElement = React.createRef();\n    _this.triggerId = uniqueId(Select.triggerUniqueIdPrefix);\n    /**\n     * Determine menu state based on props\n     */\n\n    _this.checkPropsForMenuState = function () {\n      var shouldMenuBeOpen = false;\n\n      if (_this.props.isMenuOpen !== undefined) {\n        shouldMenuBeOpen = _this.props.isMenuOpen;\n      } else if (_this.props.multiselectable === true) {\n        shouldMenuBeOpen = true;\n      }\n\n      return shouldMenuBeOpen;\n    };\n    /**\n     * This exists only to suppress a build warning\n     */\n\n\n    _this.onSelectValueChange = function (event) {\n      return null;\n    };\n    /**\n     * Handles selection changes from menu\n     */\n\n\n    _this.menuSelectionChange = function (newSelection) {\n      if (typeof _this.props.onMenuSelectionChange === \"function\") {\n        _this.props.onMenuSelectionChange(newSelection);\n      }\n\n      _this.updateSelection(newSelection);\n    };\n    /**\n     * Updates selection state and associated values\n     */\n\n\n    _this.updateSelection = function (newSelection) {\n      newSelection = _this.trimSelection(newSelection);\n\n      var newValue = _this.getValueFromSelection(newSelection);\n\n      if (_this.state.value === newValue) {\n        // no change, abort\n        return;\n      }\n\n      var newDisplayString = _this.getFormattedDisplayString(newSelection);\n\n      if (typeof _this.props.onValueChange === \"function\" && !isEqual(newSelection, _this.state.selectedItems)) {\n        _this.props.onValueChange(newValue, newSelection, newDisplayString);\n      }\n\n      if (_this.props.selectedItems === undefined) {\n        var _validOptions = _this.getValidOptions();\n\n        _this.setState({\n          selectedItems: newSelection,\n          value: newValue,\n          displayString: newDisplayString,\n          selectedItemIndex: _this.getSelectedItemPosInSet(_validOptions, newSelection),\n          selectableItemCount: _validOptions.length\n        });\n      }\n    };\n    /**\n     * Updates selection state and associated values from props\n     */\n\n\n    _this.updateSelectionFromProps = function () {\n      var controlledSelection = _this.trimSelection(Listbox.getListboxItemDataFromIds(_this.props.selectedItems, _this.props.children));\n\n      _this.setState({\n        selectedItems: controlledSelection,\n        value: _this.getValueFromSelection(controlledSelection),\n        displayString: _this.getFormattedDisplayString(controlledSelection)\n      });\n    };\n    /**\n     * Trims the selection for single item mode\n     */\n\n\n    _this.trimSelection = function (selection) {\n      return _this.props.multiselectable === false && selection.length > 1 ? [_this.state.selectedItems[0]] : selection;\n    };\n    /**\n     * Extracts values in the correct format (string in single select and string[] in multi-select) from an array of items.\n     */\n\n\n    _this.getValueFromSelection = function (newSelection) {\n      if (_this.props.multiselectable) {\n        return newSelection.map(function (thisItem) {\n          return thisItem.value;\n        });\n      } else {\n        if (newSelection.length === 0) {\n          return \"\";\n        }\n\n        return newSelection[0].value;\n      }\n    };\n    /**\n     * get the index of the provided selection\n     * (excludes children that aren't valid options)\n     */\n\n\n    _this.getSelectedItemPosInSet = function (options, selection) {\n      if (!_this.props.multiselectable && selection.length === 1) {\n        var selectionId = selection[0].id;\n        var optionCount = options.length;\n\n        for (var i = 0; i < optionCount; i++) {\n          if (options[i].props[Select.idPropertyKey] === selectionId) {\n            return i + 1;\n          }\n        }\n      }\n\n      return 0;\n    };\n    /**\n     * The default function that renders an unstyled content display\n     */\n\n\n    _this.defaultTriggerRenderFunction = function (props, state, triggerId) {\n      if (props.multiselectable) {\n        return null;\n      }\n\n      var labelledBy = \"\".concat(_this.props.labelledBy, \" \").concat(triggerId);\n      return React.createElement(\"button\", {\n        disabled: props.disabled,\n        id: triggerId,\n        \"aria-haspopup\": \"listbox\",\n        \"aria-labelledby\": labelledBy,\n        \"aria-expanded\": state.isMenuOpen,\n        \"aria-live\": \"polite\"\n      }, state.displayString);\n    };\n    /**\n     * The default function that formats the display string generated based on selection.\n     * This implementation should match the default formatting a base html select control applies.\n     * Developers can provide an alternate formatter if desired.\n     */\n\n\n    _this.defaultDisplayStringFormatter = function (selectedOptions, placeholder) {\n      var optionValues = selectedOptions.map(function (selectedOption) {\n        return selectedOption.displayString || selectedOption.value;\n      });\n      return selectedOptions.length > 0 ? optionValues.join(\", \") : placeholder;\n    };\n    /**\n     * Handles clicks\n     */\n\n\n    _this.handleClick = function (e) {\n      if (_this.props.disabled || e.defaultPrevented) {\n        return;\n      }\n\n      _this.toggleMenu(!_this.state.isMenuOpen);\n    };\n    /**\n     * Handles key events\n     */\n\n\n    _this.handleKeydown = function (e) {\n      if (_this.props.disabled || e.defaultPrevented) {\n        return;\n      }\n\n      switch (e.keyCode) {\n        case keyCodeEnter:\n        case keyCodeSpace:\n          // preventing default here because when we change focus to the trigger the keydown event gets\n          // emitted from the button again which otherwise toggles the menu a second time on a single key press\n          e.preventDefault();\n\n          _this.toggleMenu(!_this.state.isMenuOpen);\n\n          if (_this.validateMenuState(!_this.state.isMenuOpen) === false) {\n            _this.focusTriggerElement();\n          }\n\n          break;\n\n        case keyCodeEscape:\n          e.preventDefault();\n\n          _this.toggleMenu(false);\n\n          _this.focusTriggerElement();\n\n          break;\n\n        case keyCodeArrowDown:\n        case keyCodeArrowRight:\n          e.preventDefault();\n\n          if (!_this.props.multiselectable && !_this.state.isMenuOpen) {\n            _this.incrementSelectedOption(+1);\n          }\n\n          break;\n\n        case keyCodeArrowUp:\n        case keyCodeArrowLeft:\n          e.preventDefault();\n\n          if (!_this.props.multiselectable && !_this.state.isMenuOpen) {\n            _this.incrementSelectedOption(-1);\n          }\n\n          break;\n      }\n    };\n    /**\n     * Increment selection\n     */\n\n\n    _this.incrementSelectedOption = function (increment) {\n      var childrenAsArray = React.Children.toArray(_this.props.children);\n\n      if (_this.state.selectedItems.length === 1) {\n        var selectedItemIndex = Listbox.getItemIndexById(_this.state.selectedItems[0].id, _this.props.children);\n\n        if (selectedItemIndex !== -1) {\n          var startIndex = selectedItemIndex + increment;\n          var endIndex = increment > -1 ? childrenAsArray.length - 1 : 0;\n\n          _this.selectItemInRange(startIndex, endIndex, childrenAsArray, increment);\n        }\n      } else {\n        var isLastChild = increment > -1;\n        var lastChildIndex = childrenAsArray.length - 1;\n\n        _this.selectItemInRange(isLastChild ? 0 : lastChildIndex, isLastChild ? lastChildIndex : 0, childrenAsArray, increment);\n      }\n    };\n    /**\n     * Select a child in a range\n     */\n\n\n    _this.selectItemInRange = function (startIndex, endIndex, childrenAsArray, increment) {\n      var validOption = Listbox.getFirstValidOptionInRange(startIndex, endIndex, childrenAsArray, increment);\n\n      if (!isNil(validOption)) {\n        _this.updateSelection([validOption.props]);\n      }\n    };\n    /**\n     * Toggles the menu\n     */\n\n\n    _this.toggleMenu = function (desiredMenuState) {\n      var updatedIsMenuOpen = _this.validateMenuState(desiredMenuState);\n\n      if (updatedIsMenuOpen !== _this.state.isMenuOpen) {\n        _this.setState({\n          isMenuOpen: updatedIsMenuOpen\n        });\n      }\n    };\n    /**\n     * Validate desired menu state against props\n     */\n\n\n    _this.validateMenuState = function (desiredMenuState) {\n      var shouldOpenMenu = desiredMenuState;\n\n      if (_this.props.isMenuOpen !== undefined) {\n        shouldOpenMenu = _this.props.isMenuOpen;\n      } else if (_this.props.multiselectable === true) {\n        shouldOpenMenu = true;\n      }\n\n      return shouldOpenMenu;\n    };\n    /**\n     * handle menu blur\n     */\n\n\n    _this.handleMenuBlur = function (event) {\n      if (_this.state.isMenuOpen && !_this.props.multiselectable && _this.rootElement.current !== null && !_this.rootElement.current.contains(event.relatedTarget)) {\n        _this.toggleMenu(false);\n      }\n    };\n    /**\n     * Determines what function needs to be called to format the result string and\n     * calls it with the appropriate params\n     */\n\n\n    _this.getFormattedDisplayString = function (selectedOptions) {\n      return _this.props.displayStringFormatter === undefined ? _this.defaultDisplayStringFormatter(selectedOptions, _this.props.placeholder) : _this.props.displayStringFormatter(selectedOptions, _this.props.placeholder);\n    };\n    /**\n     * Determines if a given element is a focusable button\n     */\n\n\n    _this.isFocusableButton = function (element) {\n      return element instanceof HTMLButtonElement && element.getAttribute(\"aria-disabled\") !== \"true\";\n    };\n    /**\n     * focus on the trigger button\n     */\n\n\n    _this.focusTriggerElement = function () {\n      var triggerButton = _this.getTriggerButton();\n\n      if (triggerButton !== null) {\n        triggerButton.focus();\n      }\n    };\n    /**\n     * get valid options\n     */\n\n\n    _this.getValidOptions = function () {\n      return Listbox.getValidOptions(React.Children.toArray(_this.props.children));\n    };\n\n    var initialSelection = _this.trimSelection(Listbox.getListboxItemDataFromIds(_this.props.selectedItems !== undefined ? _this.props.selectedItems : _this.props.defaultSelection, _this.props.children));\n\n    if (!_this.props.multiselectable && initialSelection.length > 1) {\n      initialSelection = initialSelection.slice(0, 1);\n    }\n\n    var validOptions = _this.getValidOptions();\n\n    _this.state = {\n      selectedItems: initialSelection,\n      value: _this.getValueFromSelection(initialSelection),\n      displayString: _this.getFormattedDisplayString(initialSelection),\n      isMenuOpen: _this.validateMenuState(false),\n      selectedItemIndex: _this.getSelectedItemPosInSet(validOptions, initialSelection),\n      selectableItemCount: validOptions.length\n    };\n    return _this;\n  }\n\n  _createClass(Select, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var shouldUpdateSelection = false;\n      var updatedMenuVisibility = this.state.isMenuOpen;\n\n      if (prevProps.multiselectable !== this.props.multiselectable) {\n        shouldUpdateSelection = true;\n        updatedMenuVisibility = this.checkPropsForMenuState();\n      }\n\n      if (prevProps.isMenuOpen !== this.props.isMenuOpen) {\n        updatedMenuVisibility = this.checkPropsForMenuState();\n      }\n\n      if (updatedMenuVisibility !== this.state.isMenuOpen) {\n        this.toggleMenu(updatedMenuVisibility);\n      }\n\n      if (prevProps.selectedItems !== this.props.selectedItems) {\n        this.updateSelectionFromProps();\n        return;\n      }\n\n      if (shouldUpdateSelection) {\n        this.updateSelection(this.state.selectedItems.map(function (thisItem) {\n          return thisItem;\n        }));\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.toggleMenu(this.checkPropsForMenuState());\n\n      if (this.props.autoFocus && !this.state.isMenuOpen && !this.props.multiselectable) {\n        this.focusTriggerElement();\n      }\n    }\n    /**\n     * Renders the component\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", Object.assign({}, this.unhandledProps(), {\n        ref: this.rootElement,\n        className: this.generateClassNames(),\n        onKeyDown: this.handleKeydown,\n        onClick: this.handleClick,\n        tabIndex: -1\n      }), this.renderTrigger(), this.renderHiddenSelectElement(), this.renderMenu());\n    }\n    /**\n     * Create class names\n     */\n\n  }, {\n    key: \"generateClassNames\",\n    value: function generateClassNames() {\n      var _this$props$managedCl = this.props.managedClasses,\n          select = _this$props$managedCl.select,\n          select__disabled = _this$props$managedCl.select__disabled,\n          select_menu__open = _this$props$managedCl.select_menu__open,\n          select__multiSelectable = _this$props$managedCl.select__multiSelectable;\n      return _get(_getPrototypeOf(Select.prototype), \"generateClassNames\", this).call(this, classNames(select, [select__disabled, this.props.disabled], [select_menu__open, this.state.isMenuOpen], [select__multiSelectable, this.props.multiselectable]));\n    }\n    /**\n     * Renders a hidden select element which can interact with a\n     * form hosting this component\n     */\n\n  }, {\n    key: \"renderHiddenSelectElement\",\n    value: function renderHiddenSelectElement() {\n      return React.createElement(\"select\", {\n        required: this.props.required || null,\n        name: this.props.name || null,\n        form: this.props.form || null,\n        value: this.state.value,\n        multiple: this.props.multiselectable || null,\n        disabled: this.props.disabled || null,\n        onChange: this.onSelectValueChange,\n        style: {\n          display: \"none\"\n        }\n      });\n    }\n    /**\n     * Determine which function to use to render the trigger (ie. the part of the control that shows when the menu isn't open)\n     * and invokes it\n     */\n\n  }, {\n    key: \"renderTrigger\",\n    value: function renderTrigger() {\n      if (this.props.trigger !== undefined) {\n        return this.props.trigger(this.props, this.state, this.triggerId);\n      } else {\n        return this.defaultTriggerRenderFunction(this.props, this.state, this.triggerId);\n      }\n    }\n    /**\n     * Determine which function to use to render the menu and invokes it\n     */\n\n  }, {\n    key: \"renderMenu\",\n    value: function renderMenu() {\n      if (!this.state.isMenuOpen) {\n        return;\n      } // in single select mode we always focus on an item when menu is opened,\n      // multi-select lists only auto focus on an item if explicitly set to do so via props\n\n\n      var shouldFocusOnMount = !this.props.multiselectable;\n\n      if (this.props.multiselectable && this.props.autoFocus) {\n        shouldFocusOnMount = this.props.multiselectable;\n      }\n\n      var defaultMenu = React.createElement(Listbox, {\n        labelledBy: this.props.labelledBy,\n        disabled: this.props.disabled,\n        focusItemOnMount: shouldFocusOnMount,\n        multiselectable: this.props.multiselectable,\n        defaultSelection: this.state.selectedItems,\n        selectedItems: this.props.selectedItems,\n        onSelectedItemsChanged: this.menuSelectionChange,\n        onBlur: this.handleMenuBlur,\n        selectOnFocus: false,\n        managedClasses: {\n          listbox: get(this.props.managedClasses, \"select_menu\", \"\"),\n          listbox__disabled: get(this.props.managedClasses, \"select_menuDisabled\", \"\")\n        }\n      }, this.props.children);\n      var customMenu = typeof this.props.menu === \"function\" ? this.props.menu(this.props, this.state, defaultMenu) : defaultMenu;\n\n      if (isNil(this.props.menuFlyoutConfig)) {\n        return customMenu;\n      } else {\n        return React.createElement(ViewportPositioner, Object.assign({\n          anchor: this.rootElement\n        }, this.props.menuFlyoutConfig, {\n          managedClasses: this.generateViewportPositionerClassNames()\n        }), customMenu);\n      }\n    }\n    /**\n     * Returns viewport positioner managedclasses for select\n     */\n\n  }, {\n    key: \"generateViewportPositionerClassNames\",\n    value: function generateViewportPositionerClassNames() {\n      var _this$props$managedCl2 = this.props.managedClasses,\n          select__menuPositioningRegion = _this$props$managedCl2.select__menuPositioningRegion,\n          select__menuPositionLeft = _this$props$managedCl2.select__menuPositionLeft,\n          select__menuPositionRight = _this$props$managedCl2.select__menuPositionRight,\n          select__menuPositionTop = _this$props$managedCl2.select__menuPositionTop,\n          select__menuPositionBottom = _this$props$managedCl2.select__menuPositionBottom,\n          select__menuPositionHorizontalInset = _this$props$managedCl2.select__menuPositionHorizontalInset,\n          select__menuPositionVerticalInset = _this$props$managedCl2.select__menuPositionVerticalInset;\n      return {\n        viewportPositioner: select__menuPositioningRegion,\n        viewportPositioner__left: select__menuPositionLeft,\n        viewportPositioner__right: select__menuPositionRight,\n        viewportPositioner__top: select__menuPositionTop,\n        viewportPositioner__bottom: select__menuPositionBottom,\n        viewportPositioner__horizontalInset: select__menuPositionHorizontalInset,\n        viewportPositioner__verticalInset: select__menuPositionVerticalInset\n      };\n    }\n    /**\n     * Return the first child of the select that is a non-disabled button\n     */\n\n  }, {\n    key: \"getTriggerButton\",\n    value: function getTriggerButton() {\n      var children = canUseDOM() && this.rootElement.current instanceof HTMLElement ? Array.from(this.rootElement.current.children) : [];\n      var focusChildIndex = children.findIndex(this.isFocusableButton);\n      return focusChildIndex !== -1 ? children[focusChildIndex] : null;\n    }\n  }]);\n\n  return Select;\n}(Foundation);\n\nSelect.displayName = \"\".concat(DisplayNamePrefix, \"Select\");\nSelect.defaultProps = {\n  multiselectable: false,\n  disabled: false,\n  defaultSelection: [],\n  placeholder: \"\",\n  managedClasses: {}\n};\nSelect.idPropertyKey = \"id\";\nSelect.triggerUniqueIdPrefix = \"selecttrigger-\";\nexport default Select;","map":{"version":3,"sources":["/Users/samorcutt/Desktop/bio/node_modules/@microsoft/fast-components-react-base/dist/select/select.js"],"names":["Foundation","classNames","keyCodeArrowDown","keyCodeArrowLeft","keyCodeArrowRight","keyCodeArrowUp","keyCodeEnter","keyCodeEscape","keyCodeSpace","canUseDOM","get","isEqual","isNil","uniqueId","React","Listbox","DisplayNamePrefix","ViewportPositioner","Select","props","handledProps","isMenuOpen","disabled","displayStringFormatter","form","labelledBy","multiselectable","trigger","menu","required","managedClasses","selectedItems","defaultSelection","onValueChange","placeholder","autoFocus","menuFlyoutConfig","onMenuSelectionChange","rootElement","createRef","triggerId","triggerUniqueIdPrefix","checkPropsForMenuState","shouldMenuBeOpen","undefined","onSelectValueChange","event","menuSelectionChange","newSelection","updateSelection","trimSelection","newValue","getValueFromSelection","state","value","newDisplayString","getFormattedDisplayString","validOptions","getValidOptions","setState","displayString","selectedItemIndex","getSelectedItemPosInSet","selectableItemCount","length","updateSelectionFromProps","controlledSelection","getListboxItemDataFromIds","children","selection","map","thisItem","options","selectionId","id","optionCount","i","idPropertyKey","defaultTriggerRenderFunction","createElement","defaultDisplayStringFormatter","selectedOptions","optionValues","selectedOption","join","handleClick","e","defaultPrevented","toggleMenu","handleKeydown","keyCode","preventDefault","validateMenuState","focusTriggerElement","incrementSelectedOption","increment","childrenAsArray","Children","toArray","getItemIndexById","startIndex","endIndex","selectItemInRange","isLastChild","lastChildIndex","validOption","getFirstValidOptionInRange","desiredMenuState","updatedIsMenuOpen","shouldOpenMenu","handleMenuBlur","current","contains","relatedTarget","isFocusableButton","element","HTMLButtonElement","getAttribute","triggerButton","getTriggerButton","focus","initialSelection","slice","prevProps","shouldUpdateSelection","updatedMenuVisibility","Object","assign","unhandledProps","ref","className","generateClassNames","onKeyDown","onClick","tabIndex","renderTrigger","renderHiddenSelectElement","renderMenu","select","select__disabled","select_menu__open","select__multiSelectable","name","multiple","onChange","style","display","shouldFocusOnMount","defaultMenu","focusItemOnMount","onSelectedItemsChanged","onBlur","selectOnFocus","listbox","listbox__disabled","customMenu","anchor","generateViewportPositionerClassNames","select__menuPositioningRegion","select__menuPositionLeft","select__menuPositionRight","select__menuPositionTop","select__menuPositionBottom","select__menuPositionHorizontalInset","select__menuPositionVerticalInset","viewportPositioner","viewportPositioner__left","viewportPositioner__right","viewportPositioner__top","viewportPositioner__bottom","viewportPositioner__horizontalInset","viewportPositioner__verticalInset","HTMLElement","Array","from","focusChildIndex","findIndex","displayName","defaultProps"],"mappings":"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","sourcesContent":["import Foundation from \"@microsoft/fast-components-foundation-react\";\nimport { classNames, keyCodeArrowDown, keyCodeArrowLeft, keyCodeArrowRight, keyCodeArrowUp, keyCodeEnter, keyCodeEscape, keyCodeSpace, } from \"@microsoft/fast-web-utilities\";\nimport { canUseDOM } from \"exenv-es6\";\nimport { get, isEqual, isNil, uniqueId } from \"lodash-es\";\nimport React from \"react\";\nimport Listbox from \"../listbox\";\nimport { DisplayNamePrefix } from \"../utilities\";\nimport ViewportPositioner from \"../viewport-positioner\";\nclass Select extends Foundation {\n    /**\n     * constructor\n     */\n    constructor(props) {\n        super(props);\n        /**\n         * Handled props instantiation\n         */\n        this.handledProps = {\n            isMenuOpen: void 0,\n            disabled: void 0,\n            displayStringFormatter: void 0,\n            form: void 0,\n            labelledBy: void 0,\n            multiselectable: void 0,\n            trigger: void 0,\n            menu: void 0,\n            required: void 0,\n            managedClasses: void 0,\n            selectedItems: void 0,\n            defaultSelection: void 0,\n            onValueChange: void 0,\n            placeholder: void 0,\n            autoFocus: void 0,\n            menuFlyoutConfig: void 0,\n            onMenuSelectionChange: void 0,\n        };\n        this.rootElement = React.createRef();\n        this.triggerId = uniqueId(Select.triggerUniqueIdPrefix);\n        /**\n         * Determine menu state based on props\n         */\n        this.checkPropsForMenuState = () => {\n            let shouldMenuBeOpen = false;\n            if (this.props.isMenuOpen !== undefined) {\n                shouldMenuBeOpen = this.props.isMenuOpen;\n            }\n            else if (this.props.multiselectable === true) {\n                shouldMenuBeOpen = true;\n            }\n            return shouldMenuBeOpen;\n        };\n        /**\n         * This exists only to suppress a build warning\n         */\n        this.onSelectValueChange = (event) => {\n            return null;\n        };\n        /**\n         * Handles selection changes from menu\n         */\n        this.menuSelectionChange = (newSelection) => {\n            if (typeof this.props.onMenuSelectionChange === \"function\") {\n                this.props.onMenuSelectionChange(newSelection);\n            }\n            this.updateSelection(newSelection);\n        };\n        /**\n         * Updates selection state and associated values\n         */\n        this.updateSelection = (newSelection) => {\n            newSelection = this.trimSelection(newSelection);\n            const newValue = this.getValueFromSelection(newSelection);\n            if (this.state.value === newValue) {\n                // no change, abort\n                return;\n            }\n            const newDisplayString = this.getFormattedDisplayString(newSelection);\n            if (typeof this.props.onValueChange === \"function\" &&\n                !isEqual(newSelection, this.state.selectedItems)) {\n                this.props.onValueChange(newValue, newSelection, newDisplayString);\n            }\n            if (this.props.selectedItems === undefined) {\n                const validOptions = this.getValidOptions();\n                this.setState({\n                    selectedItems: newSelection,\n                    value: newValue,\n                    displayString: newDisplayString,\n                    selectedItemIndex: this.getSelectedItemPosInSet(validOptions, newSelection),\n                    selectableItemCount: validOptions.length,\n                });\n            }\n        };\n        /**\n         * Updates selection state and associated values from props\n         */\n        this.updateSelectionFromProps = () => {\n            const controlledSelection = this.trimSelection(Listbox.getListboxItemDataFromIds(this.props.selectedItems, this.props.children));\n            this.setState({\n                selectedItems: controlledSelection,\n                value: this.getValueFromSelection(controlledSelection),\n                displayString: this.getFormattedDisplayString(controlledSelection),\n            });\n        };\n        /**\n         * Trims the selection for single item mode\n         */\n        this.trimSelection = (selection) => {\n            return this.props.multiselectable === false && selection.length > 1\n                ? [this.state.selectedItems[0]]\n                : selection;\n        };\n        /**\n         * Extracts values in the correct format (string in single select and string[] in multi-select) from an array of items.\n         */\n        this.getValueFromSelection = (newSelection) => {\n            if (this.props.multiselectable) {\n                return newSelection.map((thisItem) => {\n                    return thisItem.value;\n                });\n            }\n            else {\n                if (newSelection.length === 0) {\n                    return \"\";\n                }\n                return newSelection[0].value;\n            }\n        };\n        /**\n         * get the index of the provided selection\n         * (excludes children that aren't valid options)\n         */\n        this.getSelectedItemPosInSet = (options, selection) => {\n            if (!this.props.multiselectable && selection.length === 1) {\n                const selectionId = selection[0].id;\n                const optionCount = options.length;\n                for (let i = 0; i < optionCount; i++) {\n                    if (options[i].props[Select.idPropertyKey] === selectionId) {\n                        return i + 1;\n                    }\n                }\n            }\n            return 0;\n        };\n        /**\n         * The default function that renders an unstyled content display\n         */\n        this.defaultTriggerRenderFunction = (props, state, triggerId) => {\n            if (props.multiselectable) {\n                return null;\n            }\n            const labelledBy = `${this.props.labelledBy} ${triggerId}`;\n            return (React.createElement(\"button\", { disabled: props.disabled, id: triggerId, \"aria-haspopup\": \"listbox\", \"aria-labelledby\": labelledBy, \"aria-expanded\": state.isMenuOpen, \"aria-live\": \"polite\" }, state.displayString));\n        };\n        /**\n         * The default function that formats the display string generated based on selection.\n         * This implementation should match the default formatting a base html select control applies.\n         * Developers can provide an alternate formatter if desired.\n         */\n        this.defaultDisplayStringFormatter = (selectedOptions, placeholder) => {\n            const optionValues = selectedOptions.map((selectedOption) => {\n                return selectedOption.displayString || selectedOption.value;\n            });\n            return selectedOptions.length > 0 ? optionValues.join(\", \") : placeholder;\n        };\n        /**\n         * Handles clicks\n         */\n        this.handleClick = (e) => {\n            if (this.props.disabled || e.defaultPrevented) {\n                return;\n            }\n            this.toggleMenu(!this.state.isMenuOpen);\n        };\n        /**\n         * Handles key events\n         */\n        this.handleKeydown = (e) => {\n            if (this.props.disabled || e.defaultPrevented) {\n                return;\n            }\n            switch (e.keyCode) {\n                case keyCodeEnter:\n                case keyCodeSpace:\n                    // preventing default here because when we change focus to the trigger the keydown event gets\n                    // emitted from the button again which otherwise toggles the menu a second time on a single key press\n                    e.preventDefault();\n                    this.toggleMenu(!this.state.isMenuOpen);\n                    if (this.validateMenuState(!this.state.isMenuOpen) === false) {\n                        this.focusTriggerElement();\n                    }\n                    break;\n                case keyCodeEscape:\n                    e.preventDefault();\n                    this.toggleMenu(false);\n                    this.focusTriggerElement();\n                    break;\n                case keyCodeArrowDown:\n                case keyCodeArrowRight:\n                    e.preventDefault();\n                    if (!this.props.multiselectable && !this.state.isMenuOpen) {\n                        this.incrementSelectedOption(+1);\n                    }\n                    break;\n                case keyCodeArrowUp:\n                case keyCodeArrowLeft:\n                    e.preventDefault();\n                    if (!this.props.multiselectable && !this.state.isMenuOpen) {\n                        this.incrementSelectedOption(-1);\n                    }\n                    break;\n            }\n        };\n        /**\n         * Increment selection\n         */\n        this.incrementSelectedOption = (increment) => {\n            const childrenAsArray = React.Children.toArray(this.props.children);\n            if (this.state.selectedItems.length === 1) {\n                const selectedItemIndex = Listbox.getItemIndexById(this.state.selectedItems[0].id, this.props.children);\n                if (selectedItemIndex !== -1) {\n                    const startIndex = selectedItemIndex + increment;\n                    const endIndex = increment > -1 ? childrenAsArray.length - 1 : 0;\n                    this.selectItemInRange(startIndex, endIndex, childrenAsArray, increment);\n                }\n            }\n            else {\n                const isLastChild = increment > -1;\n                const lastChildIndex = childrenAsArray.length - 1;\n                this.selectItemInRange(isLastChild ? 0 : lastChildIndex, isLastChild ? lastChildIndex : 0, childrenAsArray, increment);\n            }\n        };\n        /**\n         * Select a child in a range\n         */\n        this.selectItemInRange = (startIndex, endIndex, childrenAsArray, increment) => {\n            const validOption = Listbox.getFirstValidOptionInRange(startIndex, endIndex, childrenAsArray, increment);\n            if (!isNil(validOption)) {\n                this.updateSelection([validOption.props]);\n            }\n        };\n        /**\n         * Toggles the menu\n         */\n        this.toggleMenu = (desiredMenuState) => {\n            const updatedIsMenuOpen = this.validateMenuState(desiredMenuState);\n            if (updatedIsMenuOpen !== this.state.isMenuOpen) {\n                this.setState({\n                    isMenuOpen: updatedIsMenuOpen,\n                });\n            }\n        };\n        /**\n         * Validate desired menu state against props\n         */\n        this.validateMenuState = (desiredMenuState) => {\n            let shouldOpenMenu = desiredMenuState;\n            if (this.props.isMenuOpen !== undefined) {\n                shouldOpenMenu = this.props.isMenuOpen;\n            }\n            else if (this.props.multiselectable === true) {\n                shouldOpenMenu = true;\n            }\n            return shouldOpenMenu;\n        };\n        /**\n         * handle menu blur\n         */\n        this.handleMenuBlur = (event) => {\n            if (this.state.isMenuOpen &&\n                !this.props.multiselectable &&\n                this.rootElement.current !== null &&\n                !this.rootElement.current.contains(event.relatedTarget)) {\n                this.toggleMenu(false);\n            }\n        };\n        /**\n         * Determines what function needs to be called to format the result string and\n         * calls it with the appropriate params\n         */\n        this.getFormattedDisplayString = (selectedOptions) => {\n            return this.props.displayStringFormatter === undefined\n                ? this.defaultDisplayStringFormatter(selectedOptions, this.props.placeholder)\n                : this.props.displayStringFormatter(selectedOptions, this.props.placeholder);\n        };\n        /**\n         * Determines if a given element is a focusable button\n         */\n        this.isFocusableButton = (element) => {\n            return (element instanceof HTMLButtonElement &&\n                element.getAttribute(\"aria-disabled\") !== \"true\");\n        };\n        /**\n         * focus on the trigger button\n         */\n        this.focusTriggerElement = () => {\n            const triggerButton = this.getTriggerButton();\n            if (triggerButton !== null) {\n                triggerButton.focus();\n            }\n        };\n        /**\n         * get valid options\n         */\n        this.getValidOptions = () => {\n            return Listbox.getValidOptions(React.Children.toArray(this.props.children));\n        };\n        let initialSelection = this.trimSelection(Listbox.getListboxItemDataFromIds(this.props.selectedItems !== undefined\n            ? this.props.selectedItems\n            : this.props.defaultSelection, this.props.children));\n        if (!this.props.multiselectable && initialSelection.length > 1) {\n            initialSelection = initialSelection.slice(0, 1);\n        }\n        const validOptions = this.getValidOptions();\n        this.state = {\n            selectedItems: initialSelection,\n            value: this.getValueFromSelection(initialSelection),\n            displayString: this.getFormattedDisplayString(initialSelection),\n            isMenuOpen: this.validateMenuState(false),\n            selectedItemIndex: this.getSelectedItemPosInSet(validOptions, initialSelection),\n            selectableItemCount: validOptions.length,\n        };\n    }\n    componentDidUpdate(prevProps) {\n        let shouldUpdateSelection = false;\n        let updatedMenuVisibility = this.state.isMenuOpen;\n        if (prevProps.multiselectable !== this.props.multiselectable) {\n            shouldUpdateSelection = true;\n            updatedMenuVisibility = this.checkPropsForMenuState();\n        }\n        if (prevProps.isMenuOpen !== this.props.isMenuOpen) {\n            updatedMenuVisibility = this.checkPropsForMenuState();\n        }\n        if (updatedMenuVisibility !== this.state.isMenuOpen) {\n            this.toggleMenu(updatedMenuVisibility);\n        }\n        if (prevProps.selectedItems !== this.props.selectedItems) {\n            this.updateSelectionFromProps();\n            return;\n        }\n        if (shouldUpdateSelection) {\n            this.updateSelection(this.state.selectedItems.map((thisItem) => {\n                return thisItem;\n            }));\n        }\n    }\n    componentDidMount() {\n        this.toggleMenu(this.checkPropsForMenuState());\n        if (this.props.autoFocus &&\n            !this.state.isMenuOpen &&\n            !this.props.multiselectable) {\n            this.focusTriggerElement();\n        }\n    }\n    /**\n     * Renders the component\n     */\n    render() {\n        return (React.createElement(\"div\", Object.assign({}, this.unhandledProps(), { ref: this.rootElement, className: this.generateClassNames(), onKeyDown: this.handleKeydown, onClick: this.handleClick, tabIndex: -1 }),\n            this.renderTrigger(),\n            this.renderHiddenSelectElement(),\n            this.renderMenu()));\n    }\n    /**\n     * Create class names\n     */\n    generateClassNames() {\n        const { select, select__disabled, select_menu__open, select__multiSelectable, } = this.props.managedClasses;\n        return super.generateClassNames(classNames(select, [select__disabled, this.props.disabled], [select_menu__open, this.state.isMenuOpen], [select__multiSelectable, this.props.multiselectable]));\n    }\n    /**\n     * Renders a hidden select element which can interact with a\n     * form hosting this component\n     */\n    renderHiddenSelectElement() {\n        return (React.createElement(\"select\", { required: this.props.required || null, name: this.props.name || null, form: this.props.form || null, value: this.state.value, multiple: this.props.multiselectable || null, disabled: this.props.disabled || null, onChange: this.onSelectValueChange, style: {\n                display: \"none\",\n            } }));\n    }\n    /**\n     * Determine which function to use to render the trigger (ie. the part of the control that shows when the menu isn't open)\n     * and invokes it\n     */\n    renderTrigger() {\n        if (this.props.trigger !== undefined) {\n            return this.props.trigger(this.props, this.state, this.triggerId);\n        }\n        else {\n            return this.defaultTriggerRenderFunction(this.props, this.state, this.triggerId);\n        }\n    }\n    /**\n     * Determine which function to use to render the menu and invokes it\n     */\n    renderMenu() {\n        if (!this.state.isMenuOpen) {\n            return;\n        }\n        // in single select mode we always focus on an item when menu is opened,\n        // multi-select lists only auto focus on an item if explicitly set to do so via props\n        let shouldFocusOnMount = !this.props.multiselectable;\n        if (this.props.multiselectable && this.props.autoFocus) {\n            shouldFocusOnMount = this.props.multiselectable;\n        }\n        const defaultMenu = (React.createElement(Listbox, { labelledBy: this.props.labelledBy, disabled: this.props.disabled, focusItemOnMount: shouldFocusOnMount, multiselectable: this.props.multiselectable, defaultSelection: this.state.selectedItems, selectedItems: this.props.selectedItems, onSelectedItemsChanged: this.menuSelectionChange, onBlur: this.handleMenuBlur, selectOnFocus: false, managedClasses: {\n                listbox: get(this.props.managedClasses, \"select_menu\", \"\"),\n                listbox__disabled: get(this.props.managedClasses, \"select_menuDisabled\", \"\"),\n            } }, this.props.children));\n        const customMenu = typeof this.props.menu === \"function\"\n            ? this.props.menu(this.props, this.state, defaultMenu)\n            : defaultMenu;\n        if (isNil(this.props.menuFlyoutConfig)) {\n            return customMenu;\n        }\n        else {\n            return (React.createElement(ViewportPositioner, Object.assign({ anchor: this.rootElement }, this.props.menuFlyoutConfig, { managedClasses: this.generateViewportPositionerClassNames() }), customMenu));\n        }\n    }\n    /**\n     * Returns viewport positioner managedclasses for select\n     */\n    generateViewportPositionerClassNames() {\n        const { select__menuPositioningRegion, select__menuPositionLeft, select__menuPositionRight, select__menuPositionTop, select__menuPositionBottom, select__menuPositionHorizontalInset, select__menuPositionVerticalInset, } = this.props.managedClasses;\n        return {\n            viewportPositioner: select__menuPositioningRegion,\n            viewportPositioner__left: select__menuPositionLeft,\n            viewportPositioner__right: select__menuPositionRight,\n            viewportPositioner__top: select__menuPositionTop,\n            viewportPositioner__bottom: select__menuPositionBottom,\n            viewportPositioner__horizontalInset: select__menuPositionHorizontalInset,\n            viewportPositioner__verticalInset: select__menuPositionVerticalInset,\n        };\n    }\n    /**\n     * Return the first child of the select that is a non-disabled button\n     */\n    getTriggerButton() {\n        const children = canUseDOM() && this.rootElement.current instanceof HTMLElement\n            ? Array.from(this.rootElement.current.children)\n            : [];\n        const focusChildIndex = children.findIndex(this.isFocusableButton);\n        return focusChildIndex !== -1\n            ? children[focusChildIndex]\n            : null;\n    }\n}\nSelect.displayName = `${DisplayNamePrefix}Select`;\nSelect.defaultProps = {\n    multiselectable: false,\n    disabled: false,\n    defaultSelection: [],\n    placeholder: \"\",\n    managedClasses: {},\n};\nSelect.idPropertyKey = \"id\";\nSelect.triggerUniqueIdPrefix = \"selecttrigger-\";\nexport default Select;\n"]},"metadata":{},"sourceType":"module"}