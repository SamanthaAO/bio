{"ast":null,"code":"import _classCallCheck from \"/Users/samorcutt/Desktop/bio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/samorcutt/Desktop/bio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/samorcutt/Desktop/bio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/samorcutt/Desktop/bio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _get from \"/Users/samorcutt/Desktop/bio/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/samorcutt/Desktop/bio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport React from \"react\";\nimport { throttle } from \"lodash-es\";\nimport { classNames, keyCodeArrowDown, keyCodeArrowUp } from \"@microsoft/fast-web-utilities\";\nimport { RowResizeDirection } from \"./row.props\";\nimport { toPx } from \"@microsoft/fast-jss-utilities\";\nimport Foundation from \"@microsoft/fast-components-foundation-react\";\nimport { canUseDOM } from \"exenv-es6\";\nexport var east = \"east\";\nexport var west = \"west\";\nexport var north = \"north\";\nexport var south = \"south\";\nexport var rowStyleSheet = {\n  row: {\n    position: \"relative\",\n    display: \"flex\",\n    \"flex-direction\": \"row\",\n    \"flex-basis\": \"auto\"\n  },\n  row__fill: {\n    flex: \"1\",\n    overflow: \"hidden\"\n  },\n  row_resizeHandle: {\n    position: \"absolute\",\n    padding: \"0\",\n    opacity: \"0\",\n    left: \"0\",\n    height: toPx(8),\n    width: \"100%\",\n    \"z-index\": \"1\",\n    transition: \"transform .04s ease-in-out\",\n    outline: \"none\",\n    transform: \"scale(1, .5)\",\n    \"&:hover\": {\n      cursor: \"ns-resize\"\n    },\n    \"&:focus\": {\n      opacity: \"1\",\n      transform: \"scale(1)\"\n    },\n    \"&:active\": {\n      opacity: \"1\",\n      transform: \"scale(1)\"\n    }\n  },\n  row__resizeNorth: {\n    \"& $row_resizeHandle\": {\n      top: \"-4px\"\n    }\n  },\n  row__resizeSouth: {\n    \"& $row_resizeHandle\": {\n      bottom: \"-4px\"\n    }\n  },\n  row__overlay: {\n    position: \"absolute\",\n    width: \"100%\",\n    \"z-index\": \"2\"\n  },\n  row__hidden: {\n    display: \"none\"\n  }\n};\n/**\n * Grid Row - use this to create rows of pane/canvas content or other content.\n */\n\nexport var Row =\n/*#__PURE__*/\nfunction (_Foundation) {\n  _inherits(Row, _Foundation);\n\n  function Row(props) {\n    var _this;\n\n    _classCallCheck(this, Row);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Row).call(this, props));\n    _this.handledProps = {\n      collapsed: void 0,\n      collapsedHeight: void 0,\n      fill: void 0,\n      height: void 0,\n      hidden: void 0,\n      id: void 0,\n      initialHeight: void 0,\n      managedClasses: void 0,\n      maxHeight: void 0,\n      minHeight: void 0,\n      onResize: void 0,\n      resizeControl: void 0,\n      overlay: void 0,\n      resizable: void 0,\n      resizeFrom: void 0\n    };\n    /**\n     * Handle keyPress\n     */\n\n    _this.onKeyDown = function (e) {\n      var isShift = e.shiftKey;\n      var resizeFromNorth = _this.props.resizeFrom === RowResizeDirection.north;\n      var offset = isShift ? 10 : 1;\n\n      var height = _this.getHeight();\n\n      switch (e.keyCode) {\n        case keyCodeArrowDown:\n          height = resizeFromNorth ? height - offset : height + offset;\n          break;\n\n        case keyCodeArrowUp:\n          height = resizeFromNorth ? height + offset : height - offset;\n          break;\n\n        default:\n          break;\n      }\n\n      _this.setHeight(height); // Fire the resize callback\n\n\n      _this.onResize(e, height);\n    };\n    /**\n     * Handle mouseDown\n     */\n\n\n    _this.onMouseDown = function (e) {\n      // only listen for left click\n      if (e.button !== 0) {\n        return;\n      }\n\n      _this.setState({\n        resizing: true,\n        dragReference: e.pageY\n      });\n    };\n    /**\n     * Handle mouseUp\n     */\n\n\n    _this.onMouseUp = function (e) {\n      // only listen for left click\n      if (e.button !== 0) {\n        return;\n      }\n\n      _this.setState({\n        resizing: false,\n        dragReference: null\n      });\n    };\n\n    _this.onMouseMove = function (e) {\n      if (!_this.state.resizing) {\n        return;\n      }\n\n      var offset = _this.state.dragReference - e.pageY;\n      var updatedHeight = _this.props.resizeFrom === north ? _this.height() + offset : _this.height() - offset;\n\n      if (updatedHeight <= _this.props.minHeight || updatedHeight >= _this.props.maxHeight) {\n        return;\n      } // Fire the resize callback\n\n\n      _this.onResize(e, updatedHeight);\n\n      _this.setState({\n        dragReference: e.pageY\n      });\n\n      _this.setHeight(updatedHeight);\n    };\n\n    _this.onResize = function (e, height) {\n      if (typeof _this.props.onResize === \"function\") {\n        _this.props.onResize(e, height);\n      }\n    };\n\n    _this.state = {\n      resizing: false,\n      dragReference: null,\n      height: _this.props.initialHeight\n    };\n    _this.onResize = throttle(_this.onResize, 16);\n    _this.onMouseMove = throttle(_this.onMouseMove, 16);\n    _this.rootElement = React.createRef();\n    return _this;\n  }\n  /**\n   * Return the height of row. Sources from props first, and then state if props.height is undefined\n   */\n\n\n  _createClass(Row, [{\n    key: \"height\",\n    value: function height() {\n      return this.props.height || this.state.height;\n    }\n    /**\n     * Handle when component updates\n     */\n\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (canUseDOM()) {\n        if (this.state.resizing && !prevState.resizing) {\n          document.addEventListener(\"mouseup\", this.onMouseUp);\n          document.addEventListener(\"mousemove\", this.onMouseMove);\n        } else if (!this.state.resizing && prevState.resizing) {\n          document.removeEventListener(\"mouseup\", this.onMouseUp);\n          document.removeEventListener(\"mousemove\", this.onMouseMove);\n        }\n      }\n    }\n    /**\n     * Gets the generated height of the grid row depending on minHeight, maxHeight, and collapsed state.\n     */\n\n  }, {\n    key: \"getHeight\",\n    value: function getHeight() {\n      if (this.props.collapsed) {\n        return this.props.collapsedHeight;\n      } else if (this.height() <= this.props.minHeight) {\n        return this.props.minHeight;\n      } else if (this.height() >= this.props.maxHeight) {\n        return this.props.maxHeight;\n      } else {\n        return this.height();\n      }\n    }\n    /**\n     * generates the inline style property\n     */\n\n  }, {\n    key: \"generateStyleAttribute\",\n    value: function generateStyleAttribute() {\n      var height = toPx(this.getHeight());\n      var styles = {};\n      styles.minHeight = this.props.collapsed ? this.props.collapsedHeight : this.props.resizable ? toPx(this.props.minHeight) : height;\n\n      if (this.props.overlay) {\n        styles.height = height;\n      } else {\n        styles.flexBasis = height;\n      }\n\n      return Object.assign(styles, this.props.style);\n    }\n    /**\n     * Render the resize button\n     */\n\n  }, {\n    key: \"renderResizeControl\",\n    value: function renderResizeControl() {\n      if (!this.props.resizable || this.props.collapsed) {\n        return null;\n      }\n\n      var resizeProps = {\n        className: this.props.managedClasses.row_resizeHandle,\n        onMouseDown: this.onMouseDown,\n        onKeyDown: this.onKeyDown,\n        role: \"separator\"\n      };\n\n      if (typeof this.props.resizeControl === \"function\") {\n        return this.props.resizeControl(resizeProps);\n      } else {\n        return React.createElement(\"button\", Object.assign({}, resizeProps));\n      }\n    }\n  }, {\n    key: \"setHeight\",\n    value: function setHeight(height) {\n      this.setState({\n        height: height\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", Object.assign({}, this.unhandledProps(), {\n        className: this.generateClassNames(),\n        style: this.generateStyleAttribute(),\n        ref: this.rootElement,\n        id: this.props.id,\n        \"aria-hidden\": this.props.hidden\n      }), this.props.children, this.renderResizeControl());\n    }\n  }, {\n    key: \"generateClassNames\",\n    value: function generateClassNames() {\n      var _this$props$managedCl = this.props.managedClasses,\n          row = _this$props$managedCl.row,\n          row__fill = _this$props$managedCl.row__fill,\n          row__resizeNorth = _this$props$managedCl.row__resizeNorth,\n          row__resizeSouth = _this$props$managedCl.row__resizeSouth,\n          row__overlay = _this$props$managedCl.row__overlay,\n          row__hidden = _this$props$managedCl.row__hidden;\n      var resizeFrom = this.props.resizeFrom;\n      var classes = classNames(row, [row__resizeNorth, resizeFrom === RowResizeDirection.north], [row__resizeSouth, resizeFrom === RowResizeDirection.south], [row__overlay, this.props.overlay], [row__hidden, this.props.hidden], [row__fill, this.props.fill]);\n      return _get(_getPrototypeOf(Row.prototype), \"generateClassNames\", this).call(this, classes);\n    }\n  }]);\n\n  return Row;\n}(Foundation);\nRow.displayName = \"Row\";\nRow.defaultProps = {\n  fill: false,\n  initialHeight: 40,\n  collapsedHeight: 40,\n  minHeight: 40,\n  maxHeight: 800,\n  resizable: false,\n  collapsed: false,\n  overlay: false,\n  hidden: false,\n  managedClasses: {}\n};\nexport * from \"./row.props\";","map":{"version":3,"sources":["/Users/samorcutt/Desktop/bio/node_modules/@microsoft/fast-layouts-react/dist/row/row.js"],"names":["React","throttle","classNames","keyCodeArrowDown","keyCodeArrowUp","RowResizeDirection","toPx","Foundation","canUseDOM","east","west","north","south","rowStyleSheet","row","position","display","row__fill","flex","overflow","row_resizeHandle","padding","opacity","left","height","width","transition","outline","transform","cursor","row__resizeNorth","top","row__resizeSouth","bottom","row__overlay","row__hidden","Row","props","handledProps","collapsed","collapsedHeight","fill","hidden","id","initialHeight","managedClasses","maxHeight","minHeight","onResize","resizeControl","overlay","resizable","resizeFrom","onKeyDown","e","isShift","shiftKey","resizeFromNorth","offset","getHeight","keyCode","setHeight","onMouseDown","button","setState","resizing","dragReference","pageY","onMouseUp","onMouseMove","state","updatedHeight","rootElement","createRef","prevProps","prevState","document","addEventListener","removeEventListener","styles","flexBasis","Object","assign","style","resizeProps","className","role","createElement","unhandledProps","generateClassNames","generateStyleAttribute","ref","children","renderResizeControl","classes","displayName","defaultProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { throttle } from \"lodash-es\";\nimport { classNames, keyCodeArrowDown, keyCodeArrowUp, } from \"@microsoft/fast-web-utilities\";\nimport { RowResizeDirection, } from \"./row.props\";\nimport { toPx } from \"@microsoft/fast-jss-utilities\";\nimport Foundation from \"@microsoft/fast-components-foundation-react\";\nimport { canUseDOM } from \"exenv-es6\";\nexport const east = \"east\";\nexport const west = \"west\";\nexport const north = \"north\";\nexport const south = \"south\";\nexport const rowStyleSheet = {\n    row: {\n        position: \"relative\",\n        display: \"flex\",\n        \"flex-direction\": \"row\",\n        \"flex-basis\": \"auto\",\n    },\n    row__fill: {\n        flex: \"1\",\n        overflow: \"hidden\",\n    },\n    row_resizeHandle: {\n        position: \"absolute\",\n        padding: \"0\",\n        opacity: \"0\",\n        left: \"0\",\n        height: toPx(8),\n        width: \"100%\",\n        \"z-index\": \"1\",\n        transition: \"transform .04s ease-in-out\",\n        outline: \"none\",\n        transform: \"scale(1, .5)\",\n        \"&:hover\": {\n            cursor: \"ns-resize\",\n        },\n        \"&:focus\": {\n            opacity: \"1\",\n            transform: \"scale(1)\",\n        },\n        \"&:active\": {\n            opacity: \"1\",\n            transform: \"scale(1)\",\n        },\n    },\n    row__resizeNorth: {\n        \"& $row_resizeHandle\": {\n            top: \"-4px\",\n        },\n    },\n    row__resizeSouth: {\n        \"& $row_resizeHandle\": {\n            bottom: \"-4px\",\n        },\n    },\n    row__overlay: {\n        position: \"absolute\",\n        width: \"100%\",\n        \"z-index\": \"2\",\n    },\n    row__hidden: {\n        display: \"none\",\n    },\n};\n/**\n * Grid Row - use this to create rows of pane/canvas content or other content.\n */\nexport class Row extends Foundation {\n    constructor(props) {\n        super(props);\n        this.handledProps = {\n            collapsed: void 0,\n            collapsedHeight: void 0,\n            fill: void 0,\n            height: void 0,\n            hidden: void 0,\n            id: void 0,\n            initialHeight: void 0,\n            managedClasses: void 0,\n            maxHeight: void 0,\n            minHeight: void 0,\n            onResize: void 0,\n            resizeControl: void 0,\n            overlay: void 0,\n            resizable: void 0,\n            resizeFrom: void 0,\n        };\n        /**\n         * Handle keyPress\n         */\n        this.onKeyDown = (e) => {\n            const isShift = e.shiftKey;\n            const resizeFromNorth = this.props.resizeFrom === RowResizeDirection.north;\n            const offset = isShift ? 10 : 1;\n            let height = this.getHeight();\n            switch (e.keyCode) {\n                case keyCodeArrowDown:\n                    height = resizeFromNorth ? height - offset : height + offset;\n                    break;\n                case keyCodeArrowUp:\n                    height = resizeFromNorth ? height + offset : height - offset;\n                    break;\n                default:\n                    break;\n            }\n            this.setHeight(height);\n            // Fire the resize callback\n            this.onResize(e, height);\n        };\n        /**\n         * Handle mouseDown\n         */\n        this.onMouseDown = (e) => {\n            // only listen for left click\n            if (e.button !== 0) {\n                return;\n            }\n            this.setState({\n                resizing: true,\n                dragReference: e.pageY,\n            });\n        };\n        /**\n         * Handle mouseUp\n         */\n        this.onMouseUp = (e) => {\n            // only listen for left click\n            if (e.button !== 0) {\n                return;\n            }\n            this.setState({\n                resizing: false,\n                dragReference: null,\n            });\n        };\n        this.onMouseMove = (e) => {\n            if (!this.state.resizing) {\n                return;\n            }\n            const offset = this.state.dragReference - e.pageY;\n            const updatedHeight = this.props.resizeFrom === north\n                ? this.height() + offset\n                : this.height() - offset;\n            if (updatedHeight <= this.props.minHeight ||\n                updatedHeight >= this.props.maxHeight) {\n                return;\n            }\n            // Fire the resize callback\n            this.onResize(e, updatedHeight);\n            this.setState({\n                dragReference: e.pageY,\n            });\n            this.setHeight(updatedHeight);\n        };\n        this.onResize = (e, height) => {\n            if (typeof this.props.onResize === \"function\") {\n                this.props.onResize(e, height);\n            }\n        };\n        this.state = {\n            resizing: false,\n            dragReference: null,\n            height: this.props.initialHeight,\n        };\n        this.onResize = throttle(this.onResize, 16);\n        this.onMouseMove = throttle(this.onMouseMove, 16);\n        this.rootElement = React.createRef();\n    }\n    /**\n     * Return the height of row. Sources from props first, and then state if props.height is undefined\n     */\n    height() {\n        return this.props.height || this.state.height;\n    }\n    /**\n     * Handle when component updates\n     */\n    componentDidUpdate(prevProps, prevState) {\n        if (canUseDOM()) {\n            if (this.state.resizing && !prevState.resizing) {\n                document.addEventListener(\"mouseup\", this.onMouseUp);\n                document.addEventListener(\"mousemove\", this.onMouseMove);\n            }\n            else if (!this.state.resizing && prevState.resizing) {\n                document.removeEventListener(\"mouseup\", this.onMouseUp);\n                document.removeEventListener(\"mousemove\", this.onMouseMove);\n            }\n        }\n    }\n    /**\n     * Gets the generated height of the grid row depending on minHeight, maxHeight, and collapsed state.\n     */\n    getHeight() {\n        if (this.props.collapsed) {\n            return this.props.collapsedHeight;\n        }\n        else if (this.height() <= this.props.minHeight) {\n            return this.props.minHeight;\n        }\n        else if (this.height() >= this.props.maxHeight) {\n            return this.props.maxHeight;\n        }\n        else {\n            return this.height();\n        }\n    }\n    /**\n     * generates the inline style property\n     */\n    generateStyleAttribute() {\n        const height = toPx(this.getHeight());\n        const styles = {};\n        styles.minHeight = this.props.collapsed\n            ? this.props.collapsedHeight\n            : this.props.resizable\n                ? toPx(this.props.minHeight)\n                : height;\n        if (this.props.overlay) {\n            styles.height = height;\n        }\n        else {\n            styles.flexBasis = height;\n        }\n        return Object.assign(styles, this.props.style);\n    }\n    /**\n     * Render the resize button\n     */\n    renderResizeControl() {\n        if (!this.props.resizable || this.props.collapsed) {\n            return null;\n        }\n        const resizeProps = {\n            className: this.props.managedClasses.row_resizeHandle,\n            onMouseDown: this.onMouseDown,\n            onKeyDown: this.onKeyDown,\n            role: \"separator\",\n        };\n        if (typeof this.props.resizeControl === \"function\") {\n            return this.props.resizeControl(resizeProps);\n        }\n        else {\n            return React.createElement(\"button\", Object.assign({}, resizeProps));\n        }\n    }\n    setHeight(height) {\n        this.setState({\n            height,\n        });\n    }\n    render() {\n        return (React.createElement(\"div\", Object.assign({}, this.unhandledProps(), { className: this.generateClassNames(), style: this.generateStyleAttribute(), ref: this.rootElement, id: this.props.id, \"aria-hidden\": this.props.hidden }),\n            this.props.children,\n            this.renderResizeControl()));\n    }\n    generateClassNames() {\n        const { row, row__fill, row__resizeNorth, row__resizeSouth, row__overlay, row__hidden, } = this.props.managedClasses;\n        const resizeFrom = this.props.resizeFrom;\n        const classes = classNames(row, [row__resizeNorth, resizeFrom === RowResizeDirection.north], [row__resizeSouth, resizeFrom === RowResizeDirection.south], [row__overlay, this.props.overlay], [row__hidden, this.props.hidden], [row__fill, this.props.fill]);\n        return super.generateClassNames(classes);\n    }\n}\nRow.displayName = \"Row\";\nRow.defaultProps = {\n    fill: false,\n    initialHeight: 40,\n    collapsedHeight: 40,\n    minHeight: 40,\n    maxHeight: 800,\n    resizable: false,\n    collapsed: false,\n    overlay: false,\n    hidden: false,\n    managedClasses: {},\n};\nexport * from \"./row.props\";\n"]},"metadata":{},"sourceType":"module"}